# timeslot

## Intro
This is simple parser of time slot rules and time slot generator. What is time slot? It's just a time of an event or action which are happening according to schedule.

## Why do we need this?
This can be useful in different situations. For example: you doctor is accepting patients on Mondays from 12:00 to 14:00 and Fridays at 11:00 and at 13:30. Doctor dedicate 30 minutes for 1 patient. How many patients can visit this doctor in one week? This script can solve this problem easily.

## Usage
Let's assume that today's date is 2020-03-02 which is Monday. Let's create rule that generate all timeslots available on this week.

```
$parser = new Time_Slot_Generator();
$parser->parse(
    <<<RULE
EVERY 30 MINUTES 
FROM 2020-03-02
MON WITHIN 12:00-14:00
FRI AT 11:00 AND AT 13:30
TO 2020-03-08
RULE
);

echo '<pre>';
print_r($parser->generateTimeSlots());
echo '</pre>';
```

Output:
```
Array
(
    [0] => 2020-03-02 12:00:00
    [1] => 2020-03-02 12:30:00
    [2] => 2020-03-02 13:00:00
    [3] => 2020-03-02 13:30:00
    [4] => 2020-03-02 14:00:00
    [5] => 2020-03-06 11:00:00
    [6] => 2020-03-06 13:30:00
)
```

As you can see, doctor can only make 7 appointments this week. 

## Another example
You are visiting gym on Mondays at 17:00, Wednesdays at 17:00 and Saturdays at 14:00. How many workouts you will do in 1 year? Let's write a rule (interval does not matter here, we are using fixed hours only).

```
$parser = new Time_Slot_Generator();
$parser->parse(
    <<<RULE
EVERY 1 HOUR 
FROM 2020-03-02
MON AT 17:00
WED AT 17:00
SAT AT 14:00
TO 2021-03-02
RULE
);

echo '<pre>';
print_r($parser->generateTimeSlots());
echo '</pre>';
```
Output:
```
Array
(
    [0] => 2020-03-02 17:00:00
    [1] => 2020-03-04 17:00:00
    [2] => 2020-03-07 14:00:00
    [3] => 2020-03-09 17:00:00
    [4] => 2020-03-11 17:00:00
    [5] => 2020-03-14 14:00:00
    [6] => 2020-03-16 17:00:00
    [7] => 2020-03-18 17:00:00
    [8] => 2020-03-21 14:00:00
    [9] => 2020-03-23 17:00:00
    [10] => 2020-03-25 17:00:00
    [11] => 2020-03-28 14:00:00
    [12] => 2020-03-30 17:00:00
    [13] => 2020-04-01 17:00:00
    [14] => 2020-04-04 14:00:00
    [15] => 2020-04-06 17:00:00
    [16] => 2020-04-08 17:00:00
    [17] => 2020-04-11 14:00:00
    [18] => 2020-04-13 17:00:00
    [19] => 2020-04-15 17:00:00
    [20] => 2020-04-18 14:00:00
    [21] => 2020-04-20 17:00:00
    [22] => 2020-04-22 17:00:00
    [23] => 2020-04-25 14:00:00
    [24] => 2020-04-27 17:00:00
    [25] => 2020-04-29 17:00:00
    [26] => 2020-05-02 14:00:00
    [27] => 2020-05-04 17:00:00
    [28] => 2020-05-06 17:00:00
    [29] => 2020-05-09 14:00:00
    [30] => 2020-05-11 17:00:00
    [31] => 2020-05-13 17:00:00
    [32] => 2020-05-16 14:00:00
    [33] => 2020-05-18 17:00:00
    [34] => 2020-05-20 17:00:00
    [35] => 2020-05-23 14:00:00
    [36] => 2020-05-25 17:00:00
    [37] => 2020-05-27 17:00:00
    [38] => 2020-05-30 14:00:00
    [39] => 2020-06-01 17:00:00
    [40] => 2020-06-03 17:00:00
    [41] => 2020-06-06 14:00:00
    [42] => 2020-06-08 17:00:00
    [43] => 2020-06-10 17:00:00
    [44] => 2020-06-13 14:00:00
    [45] => 2020-06-15 17:00:00
    [46] => 2020-06-17 17:00:00
    [47] => 2020-06-20 14:00:00
    [48] => 2020-06-22 17:00:00
    [49] => 2020-06-24 17:00:00
    [50] => 2020-06-27 14:00:00
    [51] => 2020-06-29 17:00:00
    [52] => 2020-07-01 17:00:00
    [53] => 2020-07-04 14:00:00
    [54] => 2020-07-06 17:00:00
    [55] => 2020-07-08 17:00:00
    [56] => 2020-07-11 14:00:00
    [57] => 2020-07-13 17:00:00
    [58] => 2020-07-15 17:00:00
    [59] => 2020-07-18 14:00:00
    [60] => 2020-07-20 17:00:00
    [61] => 2020-07-22 17:00:00
    [62] => 2020-07-25 14:00:00
    [63] => 2020-07-27 17:00:00
    [64] => 2020-07-29 17:00:00
    [65] => 2020-08-01 14:00:00
    [66] => 2020-08-03 17:00:00
    [67] => 2020-08-05 17:00:00
    [68] => 2020-08-08 14:00:00
    [69] => 2020-08-10 17:00:00
    [70] => 2020-08-12 17:00:00
    [71] => 2020-08-15 14:00:00
    [72] => 2020-08-17 17:00:00
    [73] => 2020-08-19 17:00:00
    [74] => 2020-08-22 14:00:00
    [75] => 2020-08-24 17:00:00
    [76] => 2020-08-26 17:00:00
    [77] => 2020-08-29 14:00:00
    [78] => 2020-08-31 17:00:00
    [79] => 2020-09-02 17:00:00
    [80] => 2020-09-05 14:00:00
    [81] => 2020-09-07 17:00:00
    [82] => 2020-09-09 17:00:00
    [83] => 2020-09-12 14:00:00
    [84] => 2020-09-14 17:00:00
    [85] => 2020-09-16 17:00:00
    [86] => 2020-09-19 14:00:00
    [87] => 2020-09-21 17:00:00
    [88] => 2020-09-23 17:00:00
    [89] => 2020-09-26 14:00:00
    [90] => 2020-09-28 17:00:00
    [91] => 2020-09-30 17:00:00
    [92] => 2020-10-03 14:00:00
    [93] => 2020-10-05 17:00:00
    [94] => 2020-10-07 17:00:00
    [95] => 2020-10-10 14:00:00
    [96] => 2020-10-12 17:00:00
    [97] => 2020-10-14 17:00:00
    [98] => 2020-10-17 14:00:00
    [99] => 2020-10-19 17:00:00
    [100] => 2020-10-21 17:00:00
    [101] => 2020-10-24 14:00:00
    [102] => 2020-10-26 17:00:00
    [103] => 2020-10-28 17:00:00
    [104] => 2020-10-31 14:00:00
    [105] => 2020-11-02 17:00:00
    [106] => 2020-11-04 17:00:00
    [107] => 2020-11-07 14:00:00
    [108] => 2020-11-09 17:00:00
    [109] => 2020-11-11 17:00:00
    [110] => 2020-11-14 14:00:00
    [111] => 2020-11-16 17:00:00
    [112] => 2020-11-18 17:00:00
    [113] => 2020-11-21 14:00:00
    [114] => 2020-11-23 17:00:00
    [115] => 2020-11-25 17:00:00
    [116] => 2020-11-28 14:00:00
    [117] => 2020-11-30 17:00:00
    [118] => 2020-12-02 17:00:00
    [119] => 2020-12-05 14:00:00
    [120] => 2020-12-07 17:00:00
    [121] => 2020-12-09 17:00:00
    [122] => 2020-12-12 14:00:00
    [123] => 2020-12-14 17:00:00
    [124] => 2020-12-16 17:00:00
    [125] => 2020-12-19 14:00:00
    [126] => 2020-12-21 17:00:00
    [127] => 2020-12-23 17:00:00
    [128] => 2020-12-26 14:00:00
    [129] => 2020-12-28 17:00:00
    [130] => 2020-12-30 17:00:00
    [131] => 2021-01-02 14:00:00
    [132] => 2021-01-04 17:00:00
    [133] => 2021-01-06 17:00:00
    [134] => 2021-01-09 14:00:00
    [135] => 2021-01-11 17:00:00
    [136] => 2021-01-13 17:00:00
    [137] => 2021-01-16 14:00:00
    [138] => 2021-01-18 17:00:00
    [139] => 2021-01-20 17:00:00
    [140] => 2021-01-23 14:00:00
    [141] => 2021-01-25 17:00:00
    [142] => 2021-01-27 17:00:00
    [143] => 2021-01-30 14:00:00
    [144] => 2021-02-01 17:00:00
    [145] => 2021-02-03 17:00:00
    [146] => 2021-02-06 14:00:00
    [147] => 2021-02-08 17:00:00
    [148] => 2021-02-10 17:00:00
    [149] => 2021-02-13 14:00:00
    [150] => 2021-02-15 17:00:00
    [151] => 2021-02-17 17:00:00
    [152] => 2021-02-20 14:00:00
    [153] => 2021-02-22 17:00:00
    [154] => 2021-02-24 17:00:00
    [155] => 2021-02-27 14:00:00
    [156] => 2021-03-01 17:00:00
)
```
As you see, you are going to visit gym 157 times in 1 year.

## Conclusions
Using this script we can generate time slots for different recurring activities and then send them to you customers so they will be able to choose desired time.
